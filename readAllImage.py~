# !/usr/bin/python

import os
import re
import glob
#pattern = "145992"
alist_filter = ['jpg','bmp','png','gif'] 
#path=os.path.join(root,"negative")
for root,dirs,files in os.walk("./videos",topdown=False):
    for file in files:
        if file[-3:] in alist_filter:
            print os.path.join(root,file)



import os
import re
#mport imghdr
#import struct

import Image
from subprocess import call
inputpath = './videos'
filename_prefix ='neg'

def get_image_size(fname):
	IM=Image.open(fname)
	width,height=IM.size
	return width, height

f = open(filename_prefix+'.inf','w')
for dirpath, dirs, files in os.walk(inputpath):	
	for filename in files:
		print filename
		srchobj = re.match(r'neg',filename)
		if srchobj:
			#full path/filename 1, 0, 0 width length
			#read the full path of the file			
			fullpath = os.path.join(dirpath,filename) 
			print "full path" +fullpath

			printstr = fullpath 
			
			if filename_prefix == "pos":
				#width and heigth
				printstr += " 1 0 0"
				try: 
					w, h = get_image_size(fullpath)
					printstr += " "+str(w)+ " "+str(h)+"\n"
				except:
					print "not a supported image"
					continue
			else:
				printstr += '\n'
			#write to the info file
			print printstr
			#raw_input("write")
			f.write(printstr)
#close the file			
f.close()
